import{r as d,a as g,j as x,b as n,I as L,U as b,c as w,R as I}from"./vendor.0a5347d4.js";const O=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function u(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=u(e);fetch(e.href,r)}};O();const S=()=>{const[c,s]=d.exports.useState([]),[u,a]=d.exports.useState(!1),[e,r]=d.exports.useState("");d.exports.useEffect(()=>{g.get("/upload/images").then(t=>{const l=t.data.map(o=>o.uid),p=t.data.map(o=>o.name),y=t.data.map(o=>o.status),v=t.data.map(o=>o.url);let f=[];for(let o=0;o<l.length;o++)f.push({uid:o+1,name:p[o],status:y[o],url:v[o]});s(f)})},[]);const i=({fileList:t})=>{s(t),window.location.reload()},h=async t=>{const l=t.url||t.thumbUrl;r(l),a(!0)};let m=0;return c.map(t=>{m++}),x("div",{children:[n(L,{grid:!0,rotate:!0,children:n(b,{action:"/upload",accept:"image/*",method:"post",name:"file",onRemove:t=>{const l="/upload/delete/"+t.name;g.delete(l).then(p=>{console.log(p)})},enctype:"multipart/form-data",listType:"picture-card",onuploading:t=>{console.log(t)},fileList:c,onChange:i,onPreview:h,children:c.length<m+1&&"+ Upload"})}),n(w,{preview:{visible:u,src:e,onVisibleChange:t=>{a(t)}}})]})},j=()=>n("div",{children:n(S,{})});I.render(n(j,{}),document.getElementById("root"));
